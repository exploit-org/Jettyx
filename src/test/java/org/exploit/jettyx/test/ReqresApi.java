package org.exploit.jettyx.test;

import org.eclipse.jetty.http.HttpMethod;
import org.exploit.jettyx.annotation.*;
import org.exploit.jettyx.model.HttpResponse;
import org.exploit.jettyx.test.model.Create;
import org.exploit.jettyx.test.model.Created;
import org.exploit.jettyx.test.model.ListUsers;
import org.exploit.jettyx.test.model.SingleUser;

import java.util.Map;
import java.util.concurrent.CompletableFuture;

public interface ReqresApi {
    @HttpRequest(path = "/api/users")
    ListUsers listUsers(@Query("page") int page);

    @HttpRequest(path = "/api/users")
    CompletableFuture<ListUsers> listUsersFuture(@QueryMap Map<String, Object> map);

    @HttpRequest(method = HttpMethod.POST, path = "/api/users")
    HttpResponse<Created> createUser(@Body Create user);

    @HttpRequest(method = HttpMethod.GET, path = "/api/users/{id}")
    CompletableFuture<HttpResponse<SingleUser>> getUser(@Path("id") int id);
}
